
var App={Views:{},Controllers:{},init:function(){new App.Controllers.Main();Backbone.history.start();}};App.Controllers.Main=Backbone.Controller.extend({routes:{"":"index"},index:function(){var leaves=new App.Collections.Leaves)_;leaves.fetch({success:function(){new App.Views.Index({collection:leaves});},error:function(){new Error({message:"Error loading leaves."});}});}});App.Controllers.Boxes=Backbone.Controllers.extend({});App.Controllers.Leaves=Backbone.Controllers.extend({});App.Controllers.Persons=Backbone.Controllers.extend({});var Box=Backbone.Model.extend({url:function(){return this.get('resource_uri')||this.collection.url;}});var Leaf=Backbone.Model.extend({url:function(){return this.get('resource_uri')||this.collection.url;}});var Person=Backbone.Model.extend({url:function(){return this.get('resource_uri')||this.collection.url;}});App.Collections.Boxes=Backbone.Collection.extend({url:BOX_API,parse:function(data){return data.objects;}});App.Collections.Leaves=Backbone.Collection.extend({url:LEAF_API,model:Leaf,parse:function(data){return data.objects;}});App.Collections.Persons=Backbone.Collection.extend({url:PERSON_API,parse:function(data){return data.objects;}});App.Views.Index=Backbone.View.extend({initialize:function(){this.leaves=this.options.leaves;this.render();},});